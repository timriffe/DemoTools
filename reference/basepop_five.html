<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>BPA and BPE methods for adjusting age groups under 10 — basepop_five • DemoTools</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="BPA and BPE methods for adjusting age groups under 10 — basepop_five" />
<meta property="og:description" content="Adjust population counts for the age groups 0 to 10" />
<meta property="og:image" content="https://timriffe.github.io/DemoTools/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-reverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DemoTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">01.13.63</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Short manuals
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Age-heaping_quality_with_Demotools.html">Handle age heaping</a>
    </li>
    <li>
      <a href="../articles/graduation_with_demotools.html">Graduate demographic counts</a>
    </li>
    <li>
      <a href="../articles/smoothing_with_demotools.html">Smooth demographic counts</a>
    </li>
    <li>
      <a href="../articles/lifetables_with_demotools.html">Construct a lifetable</a>
    </li>
    <li>
      <a href="../articles/migration_with_demotools.html">Model migration</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/case_study_1.html">Case study</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/timriffe1">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/timriffe/DemoTools/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>BPA and BPE methods for adjusting age groups under 10</h1>
    <small class="dont-index">Source: <a href='https://github.com/timriffe/DemoTools/blob/master/R/basepop.R'><code>R/basepop.R</code></a></small>
    <div class="hidden name"><code>basepop_five.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Adjust population counts for the age groups 0 to 10</p>
    </div>

    <pre class="usage"><span class='fu'>basepop_five</span><span class='op'>(</span>
  location <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>refDate</span>,
  Age <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>Females_five</span>,
  Males_five <span class='op'>=</span> <span class='cn'>NULL</span>,
  nLxFemale <span class='op'>=</span> <span class='cn'>NULL</span>,
  nLxMale <span class='op'>=</span> <span class='cn'>NULL</span>,
  nLxDatesIn <span class='op'>=</span> <span class='cn'>NULL</span>,
  AsfrMat <span class='op'>=</span> <span class='cn'>NULL</span>,
  AsfrDatesIn <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>,
  SRB <span class='op'>=</span> <span class='cn'>NULL</span>,
  SRBDatesIn <span class='op'>=</span> <span class='cn'>NULL</span>,
  radix <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>location</th>
      <td><p>UN Pop Division <code>LocName</code> or <code>LocID</code></p></td>
    </tr>
    <tr>
      <th>refDate</th>
      <td><p>The reference year for which the reported population pertain
(these are the population counts in <code>Females_five</code> and
<code>Males_five</code>). Can either be a decimal date, a <code>Date</code> class.
If <code>nLxDatesIn</code> or <code>AsfrDatesIn</code> are not supplied and the
corresponding <code>nLxFemale/Male</code>/<code>AsfrMat</code> is not supplied,
<code>refDate</code> must be at a minimum 1962.5. This is because we can only
fetch WPP data from 1955 onwards, and these minimum date is assumed to be
7.5 years before <code>refDate</code>, meaning 1955.</p></td>
    </tr>
    <tr>
      <th>Age</th>
      <td><p>integer vector of lower bounds of abridged age groups given in <code>Females_five</code> and <code>Males_five</code>.</p></td>
    </tr>
    <tr>
      <th>Females_five</th>
      <td><p>A named numeric vector with the population counts for
five-year abridged age groups for females in <code>refDate</code>. The names of the
vector should reflect the age groups. See the example section for some
examples.</p></td>
    </tr>
    <tr>
      <th>Males_five</th>
      <td><p>A named numeric vector with the population counts for
five-year abridged age groups for males in <code>refDate</code>. The names of
the vector should reflect the age groups. See the example section for
some examples.</p></td>
    </tr>
    <tr>
      <th>nLxFemale</th>
      <td><p>A numeric matrix. The female nLx function of two abridged life tables
with ages in the rows and time in columns. The earlier date should be at least
7.5 years before the reference date of the "reported" population. The later
date should be no earlier than one-half year before the reference date of
the "reported" population. If not provided, it's automatically downloaded if
<code>location</code>, <code>refDate</code> and the equivalent population counts
<code>*_five</code> are provided.</p></td>
    </tr>
    <tr>
      <th>nLxMale</th>
      <td><p>A numeric matrix. The male nLx function of two abridged life tables
with ages in the rows and time in columns. The dates which are represented
in the columns are assumed to be the same as <code>nLxDatesIn</code>. This
argument is only used when <code>female</code> is set to <code>FALSE</code> and
<code>Males_five</code> is provided. If <code>Males_five</code> is provided and
<code>female</code> set to <code>FALSE</code>, the <code>nLx</code> for males is
automatically downloaded for the dates in <code>nLxDatesIn</code>.</p></td>
    </tr>
    <tr>
      <th>nLxDatesIn</th>
      <td><p>A vector of numeric years (for example, 1986). The dates
which pertain to the columns in <code>nLxFemale</code> and <code>nLxMale</code>. If not
provided, the function automatically determines two dates which are 8 years
before <code>refDate</code> and 0.5 years after <code>refDate</code>.</p></td>
    </tr>
    <tr>
      <th>AsfrMat</th>
      <td><p>A numeric matrix. An age-period matrix of age specific
fertility rates with age in rows, time in columns. If not provided, the
function automatically downloads the ASFR matrix based on the dates in
<code>AsfrDatesIn</code>.</p></td>
    </tr>
    <tr>
      <th>AsfrDatesIn</th>
      <td><p>A vector of numeric years (for example, 1986). These are
the dates which pertain to the columns in <code>AsfrMat</code>. If not provided,
the function automatically determines two dates which are 8 years before
<code>refDate</code> and 0.5 before <code>refDate</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed to <code>\link{interp}</code>. In particular, users
might be interested in changing the interpolation method for the <code>nLx*</code>
matrices and the <code>Asfr</code> matrix. By default, it's linearly interpolated.</p></td>
    </tr>
    <tr>
      <th>SRB</th>
      <td><p>A numeric. Sex ratio at birth (males / females). Default is set
to 1.046. Only a maximum of three values permitted.</p></td>
    </tr>
    <tr>
      <th>SRBDatesIn</th>
      <td><p>A vector of numeric years (for example, 1986). Only a maximum
number of three dates allowed. These are
the dates which pertain to the values in <code>SRB</code>. If not provided,
the function automatically determines three dates which are 7.5 years,
2.5 and 0.5 years before <code>refDate</code>.</p></td>
    </tr>
    <tr>
      <th>radix</th>
      <td><p>starting point to use in the adjustment of the three first age
groups. Default is NULL. If not provided, it is inferred based on the scale of age <code>1L0</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>when downloading new data, should the function print details
about the download at each step? Defaults to <code>TRUE</code>. We recommend the
user to set this to <code>TRUE</code> at all times because the function needs to
make decisions (such as picking the dates for the Asfr and nLx) that the user
should be aware of.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>basepop_five</code> returns a list with the following elements:
*</p><ul>
<li><p><code>Females_adjusted</code> numeric vector of adjusted population counts for females. Age groups 0, 1-4, and 5-9 are adjusted, while ages 10 and higher are unchanged.</p></li>
<li><p><code>Males_adjusted</code> numeric vector of adjusted population counts for males. Age groups 0, 1-4, and 5-9 are adjusted, while ages 10 and higher are unchanged.</p></li>
<li><p><code>Females_five</code> numeric vector of female population counts given as input.</p></li>
<li><p><code>Males_five</code> numeric vector of male population counts given as input.</p></li>
<li><p><code>nLxf</code> numeric matrix of female <code>nLx</code>, abridged ages in rows and (potentially interpolated) time in columns. Potentially downloaded.</p></li>
<li><p><code>nLxm</code> numeric matrix of male <code>nLx</code>, abridged ages in rows and (potentially interpolated) time in columns. Potentially downloaded.</p></li>
<li><p><code>Asfr</code> numeric matrix of age specific fertility in 5-year age groups ages 15-19 until 45-49 in rows, and (potentially interpolated) time in columns. Potentially downloaded.</p></li>
<li><p><code>Exposure_female</code> numeric matrix of approximated age-specific exposure in 5-year age groups ages 15-19 until 45-49 in rows, and (potentially interpolated) time in columns.</p></li>
<li><p><code>Bt</code> births at three time points prior to census corresponding to the midpoints of the cohorts entering ages 0, 1-4, and 5-9.</p></li>
<li><p><code>SRB</code> sex ratio at birth at three time points prior to census corresponding to the midpoints of the cohorts entering ages 0, 1-4, and 5-9. Potentially downloaded.</p></li>
<li><p><code>Age</code> age groups of the input population counts.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>basepop_five</code> and <code>basepop_single</code> can estimate both the BPA and
BPE methods. If the user specifies <code>SmoothedFemales</code>, both
<code>basepop_*</code> functions will return the BPA method.
If <code>SmoothedFemales</code> is left empty, both <code>basepop_*</code> functions will
adjust using the BPE method.</p>
<p>For <code>basepop_five</code>, adjusting the female population counts is the
default. For this, only the <code>location</code>, <code>refDate</code> and
<code>Females_five</code> are needed. All other arguments are downloaded
or set to sensible defaults. For adjusting the male population
counts, the user needs to specify the <code>Males_five</code> population
counts and set <code>female = FALSE</code>.</p>
<p>Currently, <code>basepop_five</code> works only with five year abridged age groups</p>
<p>The BPE method is used by default. To adjust the counts using
the BPA method, the user needs to provide the <code>SmoothedFemales</code>
argument. This is the female population counts passed through
a smoothing function such as <code>smooth_age_5</code>. See the examples
section for some examples.</p>
    <h2 class="hasAnchor" id="bpa"><a class="anchor" href="#bpa"></a>BPA</h2>

    


<p>Description:</p>
<p>The method estimates a smoothed population ages 10 and over and adjusts
the population under age 10 using the smoothed population and estimates
of fertility and mortality.</p>
<p>Based on the smoothed female population counts, it rejuvenates the female
"reported" population 20 to 59 years of age for the two 5 year periods prior
to the census date to represent the female population in reproductive ages
5 and 10 years earlier.  Based on the rejuvenated population and fertility
and mortality levels, the method then estimates the male and female births
during the two 5 year periods prior to the census date. Next, it projects
the two 5-year birth cohorts to the census date. The projected figures
represent the adjusted population ages 0 to 4 years and 5 to 9 years
at the census date.</p>
<p>Advantages:</p>
<p>(1) The method adjusts under-10 population to be consistent with fertility
and mortality levels and adjusted adult female population.</p>
<p>Limitations:</p>
<p>(1) BPA assumes a linear change in fertility and mortality during the decade
prior to the reference year.</p>
<p>(2) The procedure ignores migration, which can lead to misleading results.
There are two issues. First, age groups 0-4 and 5-9 are subject to migration,
which would affect the comparability of estimated and reported populations
in the base year.  Second, the estimated size of age groups 0-4 and 5-9 are
calculated from numbers of women of reproductive age in the base year
rejuvenated to points in the past.  With migration, rejuvenated number of
women may exceed or be smaller than the number present, and giving
birth to children, in the decade prior to the base year.</p>
<p>(3) BPA’s smoothing calculations may mask unusual, but real, variations
in population age group size.  Smoothing irregularities in age structure
not attributable to age misreporting will distort estimated births and
survived children in the base year.</p>
<p>Assumptions:</p>
<p>(1) No significant international migration took place within the
reference periods for the population, mortality, and fertility input.</p>
<p>(2) The data input as the "reported" population is not affected by
underenumeration of persons in certain ages, nor by age misreporting.</p>
    <h2 class="hasAnchor" id="bpe"><a class="anchor" href="#bpe"></a>BPE</h2>

    


<p>Description:</p>
<p>The method adjusts the population under age 10 using the reported population
ages 10 and above and estimates of fertility and mortality.</p>
<p>The method rejuvenates the reported female population 20 to 59 years of age
for the two 5 year periods prior to the census date to represent the female
population in reproductive ages 5 and 10 years earlier. Based on the
rejuvenated population and fertility and mortality levels, the method then
estimates the male and female births during the two 5 year periods prior to
the census date.  Next, it projects the two 5-year birth cohorts to the
census date.  The projected figures represent the adjusted population ages
0 to 4 years and 5 to 9 years at the census date.</p>
<p>Advantages:</p>
<p>(1) The method adjusts the under-10 population to be consistent with
fertility and mortality levels and adult female population.</p>
<p>Limitations:</p>
<p>(1) BPE assumes a linear change in fertility and mortality during the decade
prior to the reference year.</p>
<p>(2) The procedure ignores migration, which can lead to misleading results.
There are two issues.  First, age groups 0-4 and 5-9 are subject to
migration, which would affect the comparability of estimated and reported
populations in the base year.  Second, the estimated size of age groups
0-4 and 5-9 are calculated from numbers of women of reproductive age in
the base year rejuvenated to points in the past.  With migration, rejuvenated
number of women may exceed or be smaller than the number present, and
giving birth to children, in the decade prior to the base year.</p>
<p>(3) The method does not adjust for possible underenumeration and age
misreporting errors in the over-10 “reported” population. If the
reported population is subject to age-misreporting or age-sex-specific
underenumeration, the over-10 population should be smoothed or otherwise
corrected prior to use.</p>
<p>Assumptions:</p>
<p>(1) No significant international migration took place within the reference
periods for the population, mortality, and fertility input.</p>
<p>(2) The data input as the “reported” population is not affected by
underenumeration of persons in certain ages, nor by age misreporting.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Arriaga EE, Johnson PD, Jamison E (1994).
<em>Population analysis with microcomputers</em>, volume 1.
Bureau of the Census.

United States Census Bureau (2017).
&#8220;Population Analysis System (PAS) Software.&#8221;
https://www.census.gov/data/software/pas.html, <a href='https://www.census.gov/data/software/pas.html'>https://www.census.gov/data/software/pas.html</a>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
 <span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>

<span class='co'>################ BPE (five year age groups) #####################</span>

<span class='co'># Grab population counts for females</span>
<span class='va'>refDate</span> <span class='op'>&lt;-</span> <span class='fl'>1986</span>
<span class='va'>location</span> <span class='op'>&lt;-</span> <span class='st'>"Brazil"</span>
<span class='va'>pop_female_single</span> <span class='op'>&lt;-</span> <span class='fu'>fertestr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/fertestr/man/FetchPopWpp2019.html'>FetchPopWpp2019</a></span><span class='op'>(</span><span class='va'>location</span>,
                                               <span class='va'>refDate</span>,
                                               ages <span class='op'>=</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>100</span>,
                                               sex <span class='op'>=</span> <span class='st'>"female"</span><span class='op'>)</span>
<span class='va'>pop_female_counts</span> <span class='op'>&lt;-</span> <span class='fu'><a href='single2abridged.html'>single2abridged</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/setNames.html'>setNames</a></span><span class='op'>(</span><span class='va'>pop_female_single</span><span class='op'>$</span><span class='va'>pop</span>,
                                              <span class='va'>pop_female_single</span><span class='op'>$</span><span class='va'>ages</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>pop_male_single</span>   <span class='op'>&lt;-</span> <span class='fu'>fertestr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/fertestr/man/FetchPopWpp2019.html'>FetchPopWpp2019</a></span><span class='op'>(</span><span class='va'>location</span>,
                                               <span class='va'>refDate</span>,
                                               ages <span class='op'>=</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>100</span>,
                                               sex <span class='op'>=</span> <span class='st'>"male"</span><span class='op'>)</span>
<span class='va'>pop_male_counts</span>   <span class='op'>&lt;-</span> <span class='fu'><a href='single2abridged.html'>single2abridged</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/setNames.html'>setNames</a></span><span class='op'>(</span><span class='va'>pop_male_single</span><span class='op'>$</span><span class='va'>pop</span>,
                                              <span class='va'>pop_male_single</span><span class='op'>$</span><span class='va'>ages</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>Age</span> <span class='op'>&lt;-</span> <span class='fu'><a href='names2age.html'>names2age</a></span><span class='op'>(</span><span class='va'>pop_male_counts</span><span class='op'>)</span>
<span class='co'># Automatically downloads the nLx, ASFR, and SRB data</span>
<span class='va'>bpe</span> <span class='op'>&lt;-</span> <span class='fu'>basepop_five</span><span class='op'>(</span>
  location <span class='op'>=</span> <span class='va'>location</span>,
  refDate <span class='op'>=</span> <span class='va'>refDate</span>,
  Females_five <span class='op'>=</span> <span class='va'>pop_female_counts</span>,
  Males_five <span class='op'>=</span> <span class='va'>pop_male_counts</span>,
  Age <span class='op'>=</span> <span class='va'>Age</span>
<span class='op'>)</span>

<span class='co'># The counts for the first three age groups have been adjusted:</span>
<span class='va'>bpe</span><span class='op'>$</span><span class='va'>Females_adjusted</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
<span class='va'>pop_female_counts</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>

<span class='va'>bpe</span><span class='op'>$</span><span class='va'>Males_adjusted</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
<span class='va'>pop_male_counts</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>


<span class='co'>################ BPE (for single ages) ############################</span>
<span class='co'># blocked out for now, until single age function refactored as</span>
<span class='co'># TR: actually, it just needs to be rethought for single ages..</span>
<span class='co'># pop_female_single &lt;- setNames(pop_female_single$pop, pop_female_single$ages)</span>
<span class='co'>#</span>
<span class='co'># # Automatically downloads the nLx and ASFR data</span>
<span class='co'># bpe_female &lt;- basepop_single(</span>
<span class='co'>#   location = location,</span>
<span class='co'>#   refDate = refDate,</span>
<span class='co'>#   Females_single = pop_female_single</span>
<span class='co'># )</span>
<span class='co'>#</span>
<span class='co'># # The counts for the first 10 age groups have been adjusted:</span>
<span class='co'># bpe_female[1:10]</span>
<span class='co'># pop_female_single[1:10]</span>
<span class='co'>################ BPA (five year age groups) #####################</span>
<span class='co'># for BPA, smooth counts in advance</span>
<span class='va'>smoothed_females</span> <span class='op'>&lt;-</span> <span class='fu'><a href='smooth_age_5.html'>smooth_age_5</a></span><span class='op'>(</span>Value <span class='op'>=</span> <span class='va'>pop_female_counts</span>,
                                 Age <span class='op'>=</span> <span class='va'>Age</span>,
                                 method <span class='op'>=</span> <span class='st'>"Arriaga"</span>,
                                 OAG <span class='op'>=</span> <span class='cn'>TRUE</span>,
                                 young.tail <span class='op'>=</span> <span class='st'>"Original"</span><span class='op'>)</span>
<span class='co'># Note, smooth_age_5() will group infants into the 0-4 age group. So,</span>
<span class='co'># we manually stick them back in place.</span>
<span class='va'>smoothed_females</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>pop_female_counts</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>]</span>, <span class='va'>smoothed_females</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>
<span class='va'>smoothed_males</span> <span class='op'>&lt;-</span> <span class='fu'><a href='smooth_age_5.html'>smooth_age_5</a></span><span class='op'>(</span>Value <span class='op'>=</span> <span class='va'>pop_male_counts</span>,
                               Age <span class='op'>=</span> <span class='va'>Age</span>,
                               method <span class='op'>=</span> <span class='st'>"Arriaga"</span>,
                               OAG <span class='op'>=</span> <span class='cn'>TRUE</span>,
                               young.tail <span class='op'>=</span> <span class='st'>"Original"</span><span class='op'>)</span>
<span class='va'>smoothed_males</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>smoothed_males</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>]</span>, <span class='va'>smoothed_males</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>

<span class='co'># Automatically downloads the nLx, ASFR, and SRB data</span>
<span class='va'>bpa</span> <span class='op'>&lt;-</span> <span class='fu'>basepop_five</span><span class='op'>(</span>
  location <span class='op'>=</span> <span class='va'>location</span>,
  refDate <span class='op'>=</span> <span class='va'>refDate</span>,
  Females_five <span class='op'>=</span> <span class='va'>smoothed_females</span>,
  Males_five <span class='op'>=</span> <span class='va'>smoothed_males</span>,
  Age <span class='op'>=</span> <span class='va'>Age</span>
<span class='op'>)</span>

<span class='co'># The counts for the first three age groups have been adjusted:</span>
<span class='va'>bpa</span><span class='op'>$</span><span class='va'>Females_adjusted</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
<span class='va'>smoothed_females</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
<span class='va'>pop_female_counts</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>

<span class='va'>bpa</span><span class='op'>$</span><span class='va'>Males_adjusted</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
<span class='va'>smoothed_males</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
<span class='va'>pop_male_counts</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>

<span class='co'>################ PAS example ###############################</span>

 <span class='co'># (1) refDate</span>
 <span class='va'>refDate</span> <span class='op'>&lt;-</span> <span class='fl'>1986.21</span>

 <span class='co'># (2) Reported population by 5-year age groups and sex in the base year</span>
 <span class='co'># (Include unknowns).</span>

 <span class='va'>pop_male_counts</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>11684</span>, <span class='fl'>46738</span>, <span class='fl'>55639</span>, <span class='fl'>37514</span>, <span class='fl'>29398</span>, <span class='fl'>27187</span>, <span class='fl'>27770</span>, <span class='fl'>20920</span>, <span class='fl'>16973</span>,
                      <span class='fl'>14999</span>, <span class='fl'>11330</span>, <span class='fl'>10415</span>, <span class='fl'>6164</span>, <span class='fl'>7330</span>, <span class='fl'>3882</span>, <span class='fl'>3882</span>, <span class='fl'>1840</span>, <span class='fl'>4200</span><span class='op'>)</span>

 <span class='va'>pop_female_counts</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>11673</span>, <span class='fl'>46693</span>, <span class='fl'>55812</span>, <span class='fl'>35268</span>, <span class='fl'>33672</span>, <span class='fl'>31352</span>, <span class='fl'>33038</span>, <span class='fl'>24029</span>, <span class='fl'>16120</span>,
                        <span class='fl'>14679</span>, <span class='fl'>8831</span>, <span class='fl'>9289</span>, <span class='fl'>4172</span>, <span class='fl'>6174</span>, <span class='fl'>2715</span>, <span class='fl'>3344</span>, <span class='fl'>1455</span>, <span class='fl'>4143</span><span class='op'>)</span>
 <span class='va'>Age</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='fl'>80</span>, by <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>

 <span class='co'># (4) Sex ratio at birth (m/f)</span>
 <span class='va'>sex_ratio</span> <span class='op'>&lt;-</span> <span class='fl'>1.0300</span>

 <span class='co'># (6) The male and female nLx functions for ages under 1 year, 1 to 4 years, and 5 to 9</span>
 <span class='co'># years, pertaining to an earlier and later date</span>
 <span class='va'>nLxDatesIn</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1977.31</span>, <span class='fl'>1986.50</span><span class='op'>)</span>

 <span class='va'>nLxMale</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>87732</span>, <span class='fl'>304435</span>, <span class='fl'>361064</span>, <span class='fl'>88451</span>, <span class='fl'>310605</span>, <span class='fl'>370362</span><span class='op'>)</span>,
                   nrow <span class='op'>=</span> <span class='fl'>3</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>

 <span class='va'>nLxFemale</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>89842</span>, <span class='fl'>314521</span>, <span class='fl'>372681</span>, <span class='fl'>353053</span>, <span class='fl'>340650</span>, <span class='fl'>326588</span>,
                       <span class='fl'>311481</span>, <span class='fl'>295396</span>, <span class='fl'>278646</span>, <span class='fl'>261260</span>, <span class='fl'>241395</span>,<span class='fl'>217419</span>,
                       <span class='fl'>90478</span>, <span class='fl'>320755</span>, <span class='fl'>382531</span>, <span class='fl'>364776</span>, <span class='fl'>353538</span>, <span class='fl'>340687</span>,
                       <span class='fl'>326701</span>, <span class='fl'>311573</span>, <span class='fl'>295501</span>, <span class='fl'>278494</span>, <span class='fl'>258748</span>,<span class='fl'>234587</span><span class='op'>)</span>,
                     nrow <span class='op'>=</span> <span class='fl'>12</span>,
                     ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>

 <span class='co'># (7) A set of age-specific fertility rates pertaining to an earlier and later</span>
 <span class='co'># date</span>

 <span class='va'>asfrmat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/structure.html'>structure</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='fl'>0.3</span>, <span class='fl'>0.3</span>, <span class='fl'>0.25</span>, <span class='fl'>0.2</span>, <span class='fl'>0.15</span>, <span class='fl'>0.05</span>, <span class='fl'>0.15</span>, <span class='fl'>0.2</span>,
      <span class='fl'>0.275</span>, <span class='fl'>0.225</span>, <span class='fl'>0.175</span>, <span class='fl'>0.125</span>, <span class='fl'>0.05</span><span class='op'>)</span>, .Dim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>7L</span>, <span class='fl'>2L</span><span class='op'>)</span>,
    .Dimnames <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"15-19"</span>, <span class='st'>"20-24"</span>, <span class='st'>"25-29"</span>, <span class='st'>"30-34"</span>, <span class='st'>"35-39"</span>, <span class='st'>"40-44"</span>, <span class='st'>"45-49"</span><span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"1977.81"</span>, <span class='st'>"1985.71"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

 <span class='co'># for BPA, smooth counts in advance</span>
 <span class='va'>smoothed_females</span> <span class='op'>&lt;-</span> <span class='fu'><a href='smooth_age_5.html'>smooth_age_5</a></span><span class='op'>(</span>Value <span class='op'>=</span> <span class='va'>pop_female_counts</span>,
                                  Age <span class='op'>=</span> <span class='va'>Age</span>,
                                  method <span class='op'>=</span> <span class='st'>"Arriaga"</span>,
                                  OAG <span class='op'>=</span> <span class='cn'>TRUE</span>,
                                  young.tail <span class='op'>=</span> <span class='st'>"Original"</span><span class='op'>)</span>
 <span class='va'>smoothed_females</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>pop_female_counts</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>]</span>, <span class='va'>smoothed_females</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>
 <span class='va'>smoothed_males</span> <span class='op'>&lt;-</span> <span class='fu'><a href='smooth_age_5.html'>smooth_age_5</a></span><span class='op'>(</span>Value <span class='op'>=</span> <span class='va'>pop_male_counts</span>,
                                  Age <span class='op'>=</span> <span class='va'>Age</span>,
                                  method <span class='op'>=</span> <span class='st'>"Arriaga"</span>,
                                  OAG <span class='op'>=</span> <span class='cn'>TRUE</span>,
                                  young.tail <span class='op'>=</span> <span class='st'>"Original"</span><span class='op'>)</span>
 <span class='va'>smoothed_males</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>pop_male_counts</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>]</span>, <span class='va'>smoothed_males</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>
 <span class='co'>## This is the only number that messes up the whole calculation.</span>
 <span class='co'>## smooth_age_5 returns the same result as the PASS excel sheet</span>
 <span class='co'>## except for the age groups 10-15 and 15-19. Here we only use</span>
 <span class='co'>## age group 15-19. If we plug in manually the correct value,</span>
 <span class='co'>## we get all results match exactly, otherwise there are</span>
 <span class='co'>## some differences.</span>
 <span class='va'>smoothed_females</span><span class='op'>[</span><span class='fl'>4</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>34721</span>

 <span class='co'># For adjusting using BPA for males, we need to specify</span>
 <span class='co'># female = FALSE with Males and nLxMale.</span>
 <span class='va'>bpa</span> <span class='op'>&lt;-</span>
   <span class='fu'>basepop_five</span><span class='op'>(</span>
     refDate <span class='op'>=</span> <span class='va'>refDate</span>,
     Males_five <span class='op'>=</span> <span class='va'>smoothed_males</span>,
     Females_five <span class='op'>=</span> <span class='va'>smoothed_females</span>,
     Age <span class='op'>=</span> <span class='va'>Age</span>,
     SRB <span class='op'>=</span> <span class='va'>sex_ratio</span>,
     nLxFemale <span class='op'>=</span> <span class='va'>nLxFemale</span>,
     nLxMale <span class='op'>=</span> <span class='va'>nLxMale</span>,
     nLxDatesIn <span class='op'>=</span> <span class='va'>nLxDatesIn</span>,
     AsfrMat <span class='op'>=</span> <span class='va'>asfrmat</span>,
     AsfrDatesIn <span class='op'>=</span> <span class='va'>AsfrDatesIn</span>,
     radix <span class='op'>=</span> <span class='fl'>1e5</span>
   <span class='op'>)</span>

 <span class='co'># See adjustments?</span>
 <span class='va'>pop_male_counts</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
 <span class='va'>bpa</span><span class='op'>$</span><span class='va'>Male_adjusted</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>

 <span class='va'>pop_female_counts</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
 <span class='va'>bpa</span><span class='op'>$</span><span class='va'>Female_adjusted</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>

 <span class='co'># For adjustment using BPE, we use exactly the same definitions as above</span>
 <span class='co'># but use the original inputs</span>

 <span class='va'>bpe</span> <span class='op'>&lt;-</span>
   <span class='fu'>basepop_five</span><span class='op'>(</span>
     refDate <span class='op'>=</span> <span class='va'>refDate</span>,
     Females_five <span class='op'>=</span> <span class='va'>pop_female_counts</span>,
     Males_five <span class='op'>=</span> <span class='va'>pop_male_counts</span>,
     SRB <span class='op'>=</span> <span class='va'>sex_ratio</span>,
     nLxFemale <span class='op'>=</span> <span class='va'>nLxFemale</span>,
     nLxDatesIn <span class='op'>=</span> <span class='va'>nLxDatesIn</span>,
     AsfrMat <span class='op'>=</span> <span class='va'>asfrmat</span>,
     AsfrDatesIn <span class='op'>=</span> <span class='va'>AsfrDatesIn</span>
   <span class='op'>)</span>

 <span class='va'>pop_female_counts</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>
 <span class='va'>bpe</span><span class='op'>$</span><span class='va'>Females_adjusted</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>

<span class='co'># basepop_single for single ages</span>
<span class='co'># Single ages for males and females</span>

<span class='co'># pop_male_counts &lt;-</span>
<span class='co'>#   c(11684, 11473, 11647, 11939, 11680, 10600, 11100, 11157, 11238,</span>
<span class='co'>#     11544, 7216, 7407, 7461, 7656, 7774, 5709, 5629, 5745, 6056,</span>
<span class='co'>#     6259, 5303, 5423, 5497, 5547, 5417, 5441, 5466, 5500, 5668, 5694,</span>
<span class='co'>#     4365, 4252, 4122, 4142, 4039, 3210, 3222, 3258, 3413, 3871, 2684,</span>
<span class='co'>#     2844, 3052, 3182, 3237, 2263, 2298, 2318, 2257, 2194, 2231, 2172,</span>
<span class='co'>#     2072, 2008, 1932, 1301, 1262, 1213, 1197, 1191, 1601, 1593, 1490,</span>
<span class='co'>#     1348, 1299, 568, 745, 843, 801, 925, 806, 883, 796, 725, 672,</span>
<span class='co'>#     470, 441, 340, 300, 289, 4200)</span>
<span class='co'>#</span>
<span class='co'># pop_female_counts &lt;-</span>
<span class='co'>#   c(11673, 11474, 11670, 11934, 11614, 10603, 11144, 11179, 11269,</span>
<span class='co'>#     11617, 6772, 6948, 7030, 7211, 7306, 6531, 6443, 6535, 6951,</span>
<span class='co'>#     7213, 6096, 6234, 6327, 6410, 6285, 6464, 6492, 6549, 6739, 6795,</span>
<span class='co'>#     5013, 4888, 4735, 4747, 4646, 3040, 3068, 3107, 3246, 3658, 2650,</span>
<span class='co'>#     2788, 2977, 3108, 3156, 1756, 1784, 1802, 1764, 1724, 1982, 1935,</span>
<span class='co'>#     1846, 1795, 1731, 863, 850, 825, 819, 816, 1348, 1342, 1246,</span>
<span class='co'>#     1138, 1101, 391, 520, 585, 560, 659, 670, 750, 686, 634, 604,</span>
<span class='co'>#     353, 340, 270, 246, 247, 4143)</span>
<span class='co'>#  Age &lt;- 0:80</span>
<span class='co'>#</span>
<span class='co'>#  smoothed_females &lt;- smooth_age_5(Value = pop_female_counts,</span>
<span class='co'>#                                   Age = Age,</span>
<span class='co'>#                                   method = "Arriaga",</span>
<span class='co'>#                                   OAG = TRUE,</span>
<span class='co'>#                                   young.tail = "Original")</span>
<span class='co'>#  smoothed_males &lt;- smooth_age_5(Value = pop_male_counts,</span>
<span class='co'>#                                   Age = Age,</span>
<span class='co'>#                                   method = "Arriaga",</span>
<span class='co'>#                                   OAG = TRUE,</span>
<span class='co'>#                                   young.tail = "Original")</span>

 <span class='co'># For adjusting using BPA for males, we need to specify</span>
 <span class='co'># female = FALSE with Males and nLxMale.</span>

 <span class='co'># This needs work still</span>
 <span class='co'># bpa_male &lt;-</span>
 <span class='co'>#   basepop_single(</span>
 <span class='co'>#     refDate = refDate,</span>
 <span class='co'>#     Males_single = pop_male_counts,</span>
 <span class='co'>#     Females_single = pop_female_counts,</span>
 <span class='co'>#     SRB = sex_ratio,</span>
 <span class='co'>#     nLxFemale = nLxFemale,</span>
 <span class='co'>#     nLxMale = nLxMale,</span>
 <span class='co'>#     nLxDatesIn = nLxDatesIn,</span>
 <span class='co'>#     AsfrMat = asfrmat,</span>
 <span class='co'>#     AsfrDatesIn = AsfrDatesIn</span>
 <span class='co'>#     )</span>

 <span class='co'># See adjustments?</span>
 <span class='co'># pop_male_counts[1:10]</span>
 <span class='co'># bpa_male[1:10]</span>

 <span class='co'># Adjusting the BPA for females requires less arguments</span>
 <span class='co'># bpa_female &lt;-</span>
 <span class='co'>#   basepop_single(</span>
 <span class='co'>#     refDate = refDate,</span>
 <span class='co'>#     Females_single = pop_female_counts,</span>
 <span class='co'>#     SmoothedFemales = smoothed_females,</span>
 <span class='co'>#     SRB = sex_ratio,</span>
 <span class='co'>#     nLxFemale = nLxFemale,</span>
 <span class='co'>#     nLxDatesIn = nLxDatesIn,</span>
 <span class='co'>#     AsfrMat = asfrmat,</span>
 <span class='co'>#     AsfrDatesIn = AsfrDatesIn</span>
 <span class='co'>#   )</span>

 <span class='co'># pop_female_counts[1:10]</span>
 <span class='co'># bpa_female[1:10]</span>
 <span class='co'>#</span>
 <span class='co'># # For adjustment using BPE, we use exactly the same definitions as above</span>
 <span class='co'># # but remove SmoothedFemales.</span>
 <span class='co'># bpe_male &lt;-</span>
 <span class='co'>#   basepop_single(</span>
 <span class='co'>#     refDate = refDate,</span>
 <span class='co'>#     Males_single = pop_male_counts,</span>
 <span class='co'>#     Females_single = pop_female_counts,</span>
 <span class='co'>#     SRB = sex_ratio,</span>
 <span class='co'>#     nLxFemale = nLxFemale,</span>
 <span class='co'>#     nLxMale = nLxMale,</span>
 <span class='co'>#     nLxDatesIn = nLxDatesIn,</span>
 <span class='co'>#     AsfrMat = asfrmat,</span>
 <span class='co'>#     AsfrDatesIn = AsfrDatesIn,</span>
 <span class='co'>#     female = FALSE</span>
 <span class='co'>#     )</span>

 <span class='co'># See adjustments?</span>
 <span class='co'># pop_male_counts[1:10]</span>
 <span class='co'># bpa_male[1:10]</span>
 <span class='co'># bpe_male[1:10]</span>

 <span class='co'># Adjusting the BPA for females requires less arguments</span>
 <span class='co'># bpe_female &lt;-</span>
 <span class='co'>#   basepop_single(</span>
 <span class='co'>#     refDate = refDate,</span>
 <span class='co'>#     Females_single = pop_female_counts,</span>
 <span class='co'>#     SRB = sex_ratio,</span>
 <span class='co'>#     nLxFemale = nLxFemale,</span>
 <span class='co'>#     nLxDatesIn = nLxDatesIn,</span>
 <span class='co'>#     AsfrMat = asfrmat,</span>
 <span class='co'>#     AsfrDatesIn = AsfrDatesIn</span>
 <span class='co'>#   )</span>
 <span class='co'>#</span>
 <span class='co'># pop_female_counts[1:10]</span>
 <span class='co'># bpa_female[1:10]</span>
 <span class='co'># bpe_female[1:10]</span>

 <span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tim Riffe, José Manuel Aburto, Ilya Kashnitsky, Monica Alexander, Marius D. Pascariu, Sara Hertog, Sean Fennell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


