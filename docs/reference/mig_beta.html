<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Estimate intercensal migration by comparing census population, by age and
sex, to the results of a RUP projection. — mig_beta • DemoTools</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Estimate intercensal migration by comparing census population, by age and
sex, to the results of a RUP projection. — mig_beta" />
<meta property="og:description" content="This methods projects population from the first starting point to next census
without migration and computes the &quot;Net Census Error&quot; (NCE) which is
Census - Estimate by age from projection. It then distributes the NCE over
the cohort parallelogram assuming uniform distribution assuming it is all
migration. It finalizes by summing the estimate by age groups across the entire
intercensal period to have a total migration during the entire period.
Alternatively, a child adjustment and an old age adjustment can be applied." />
<meta property="og:image" content="https://timriffe.github.io/DemoTools/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-reverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DemoTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">01.13.76</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Short manuals
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Age-heaping_quality_with_Demotools.html">Handle age heaping</a>
    </li>
    <li>
      <a href="../articles/graduation_with_demotools.html">Graduate demographic counts</a>
    </li>
    <li>
      <a href="../articles/smoothing_with_demotools.html">Smooth demographic counts</a>
    </li>
    <li>
      <a href="../articles/lifetables_with_demotools.html">Construct a lifetable</a>
    </li>
    <li>
      <a href="../articles/migration_with_demotools.html">Model migration</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/case_study_1.html">Case study</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/timriffe1">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/timriffe/DemoTools/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Estimate intercensal migration by comparing census population, by age and
sex, to the results of a RUP projection.</h1>
    <small class="dont-index">Source: <a href='https://github.com/timriffe/DemoTools/blob/master/R/mig_beta.R'><code>R/mig_beta.R</code></a></small>
    <div class="hidden name"><code>mig_beta.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This methods projects population from the first starting point to next census
without migration and computes the "Net Census Error" (NCE) which is
Census - Estimate by age from projection. It then distributes the NCE over
the cohort parallelogram assuming uniform distribution assuming it is all
migration. It finalizes by summing the estimate by age groups across the entire
intercensal period to have a total migration during the entire period.
Alternatively, a child adjustment and an old age adjustment can be applied.</p>
    </div>

    <pre class="usage"><span class='fu'>mig_beta</span><span class='op'>(</span>
  <span class='va'>c1</span>,
  <span class='va'>c2</span>,
  <span class='va'>date1</span>,
  <span class='va'>date2</span>,
  age1 <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>c1</span><span class='op'>)</span> <span class='op'>-</span> <span class='fl'>1</span>,
  age2 <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>c2</span><span class='op'>)</span> <span class='op'>-</span> <span class='fl'>1</span>,
  dates_out <span class='op'>=</span> <span class='cn'>NULL</span>,
  lxMat <span class='op'>=</span> <span class='cn'>NULL</span>,
  age_lx <span class='op'>=</span> <span class='cn'>NULL</span>,
  dates_lx <span class='op'>=</span> <span class='cn'>NULL</span>,
  births <span class='op'>=</span> <span class='cn'>NULL</span>,
  years_births <span class='op'>=</span> <span class='cn'>NULL</span>,
  location <span class='op'>=</span> <span class='cn'>NULL</span>,
  sex <span class='op'>=</span> <span class='st'>"both"</span>,
  midyear <span class='op'>=</span> <span class='cn'>FALSE</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  child_adjust <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"none"</span>, <span class='st'>"cwr"</span>, <span class='st'>"constant"</span><span class='op'>)</span>,
  childage_max <span class='op'>=</span> <span class='cn'>NULL</span>,
  cwr_factor <span class='op'>=</span> <span class='fl'>0.3</span>,
  oldage_adjust <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"none"</span>, <span class='st'>"beers"</span>, <span class='st'>"mav"</span><span class='op'>)</span>,
  oldage_min <span class='op'>=</span> <span class='fl'>65</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>c1</th>
      <td><p>numeric vector. The first (left) census in single age groups</p></td>
    </tr>
    <tr>
      <th>c2</th>
      <td><p>numeric vector. The second (right) census in single age groups</p></td>
    </tr>
    <tr>
      <th>date1</th>
      <td><p>reference date of c1`. Either a Date class object or an unambiguous character string in the format "YYYY-MM-DD".</p></td>
    </tr>
    <tr>
      <th>date2</th>
      <td><p>reference date of c2`. Either a Date class object or an unambiguous character string in the format "YYYY-MM-DD".</p></td>
    </tr>
    <tr>
      <th>age1</th>
      <td><p>integer vector. single ages of <code>c1</code></p></td>
    </tr>
    <tr>
      <th>age2</th>
      <td><p>integer vector. single ages of <code>c2</code></p></td>
    </tr>
    <tr>
      <th>dates_out</th>
      <td><p>vector of desired output dates coercible to numeric using <code><a href='dec.date.html'>dec.date()</a></code></p></td>
    </tr>
    <tr>
      <th>lxMat</th>
      <td><p>numeric matrix containing lifetable survivorship, <code>l(x)</code>. Each row is an age group and each column a time point. At least two intercensal time points needed.</p></td>
    </tr>
    <tr>
      <th>age_lx</th>
      <td><p>integer vector. Age classes in <code>lxMat</code></p></td>
    </tr>
    <tr>
      <th>dates_lx</th>
      <td><p>date, character, or numeric vector of the column time points for <code>lxMat</code>. If these are calendar-year estimates, then you can choose mid-year time points</p></td>
    </tr>
    <tr>
      <th>births</th>
      <td><p>integer vector. Raw birth counts for the corresponding (sub)-population, one value per each year of the intercensal period including both census years. The first and last years should include all births in the given year; don't discount them in advance.</p></td>
    </tr>
    <tr>
      <th>years_births</th>
      <td><p>numeric vector of calendar years of births.</p></td>
    </tr>
    <tr>
      <th>location</th>
      <td><p>country name or LocID</p></td>
    </tr>
    <tr>
      <th>sex</th>
      <td><p>character string, either <code>"male"</code>, <code>"female"</code>, or <code>"both"</code></p></td>
    </tr>
    <tr>
      <th>midyear</th>
      <td><p>logical. <code>FALSE</code> means all Jan 1 dates between <code>date1</code> and <code>date2</code> are returned. <code>TRUE</code> means all July 1 intercensal dates are returned.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical. Shall we send informative messages to the console?</p></td>
    </tr>
    <tr>
      <th>child_adjust</th>
      <td><p>The method with which to adjust the youngest age groups.
If <code>"none"</code>, no adjustment is applied (default). If
child-woman ratio (<code>"cwr"</code>) is chosen, the first cohorts reflecting the
difference between <code>date2 - date1</code> are adjusted (plus age 0). If
child constant ratio (<code>"constant"</code>) is chosen, the first 15 age groups
are adjusted.</p></td>
    </tr>
    <tr>
      <th>childage_max</th>
      <td><p>The maximum age from which to apply <code>child_adjust</code>.
By default, set to <code>NULL</code>, which gets translated into all the cohorts
between <code>date2</code> and <code>date1</code>. If <code>date2</code> is 2010 and
<code>date1</code> is 2002, the first 8 cohorts are adjusted. Otherwise, the user
can supply an integer.</p></td>
    </tr>
    <tr>
      <th>cwr_factor</th>
      <td><p>A numeric between 0 and 1 to which adjust the CWR method
for the young ages from <code>child_adjust</code>. <strong>This is only used
when <code>child_adjust</code> is <code>"cwr"</code></strong>.</p></td>
    </tr>
    <tr>
      <th>oldage_adjust</th>
      <td><p>The type of adjustment to apply to ages at and above
<code>oldage_min</code>. <code>'beers'</code> applies a beers graduation method
while <code>'mav'</code> applies a moving average with cascading on the tails.
For more information see <code><a href='mav.html'>?mav</a></code> and <code>?graduation_beers</code>.</p></td>
    </tr>
    <tr>
      <th>oldage_min</th>
      <td><p>The minimum age from which to apply <code>oldage_adjust</code>.
By default, set to 65, so any adjustment from <code>oldage_adjust</code> will be
applied for 65+.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>optional arguments passed to <code>lt_single_qx</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a numeric vector of the total migration in the intercensal period
for each age. Ages are set as names of each migration estimate.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>

<span class='fu'>mig_beta</span><span class='op'>(</span>
  location <span class='op'>=</span> <span class='st'>"Russian Federation"</span>,
  sex <span class='op'>=</span> <span class='st'>"male"</span>,
  c1 <span class='op'>=</span> <span class='va'>pop1m_rus2002</span>,
  c2 <span class='op'>=</span> <span class='va'>pop1m_rus2010</span>,
  date1 <span class='op'>=</span> <span class='st'>"2002-10-16"</span>,
  date2 <span class='op'>=</span> <span class='st'>"2010-10-25"</span>,
  age1 <span class='op'>=</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>100</span>,
  births <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>719511L</span>, <span class='fl'>760934L</span>, <span class='fl'>772973L</span>, <span class='fl'>749554L</span>, <span class='fl'>760831L</span>, <span class='fl'>828772L</span>, <span class='fl'>880543L</span>, <span class='fl'>905380L</span>, <span class='fl'>919639L</span><span class='op'>)</span>
<span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tim Riffe, José Manuel Aburto, Ilya Kashnitsky, Monica Alexander, Marius D. Pascariu, Sara Hertog, Sean Fennell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


