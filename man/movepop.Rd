% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/movepop.R
\name{movepop}
\alias{movepop}
\title{Project Population Between Two Dates Using Age-Specific Rates}
\usage{
movepop(
  initial_date = NULL,
  desired_date = NULL,
  male_pop = NULL,
  female_pop = NULL,
  male_mx = NULL,
  female_mx = NULL,
  asfr = NULL,
  Age = NULL,
  first_asfr_age = NULL,
  annual_net_migrants = 0,
  age_out = "single"
)
}
\arguments{
\item{initial_date}{Numeric or Date. The starting year/date of the population.}

\item{desired_date}{Numeric or Date. The year/date to which the population is projected.}

\item{male_pop}{Numeric vector of male population counts by age.}

\item{female_pop}{Numeric vector of female population counts by age.}

\item{male_mx}{Numeric vector of male mortality rates by age.}

\item{female_mx}{Numeric vector of female mortality rates by age.}

\item{asfr}{Numeric vector of age-specific fertility rates corresponding to female ages.}

\item{Age}{Numeric vector of ages Age that are present in \code{female_mx}, \code{male_mx}, \code{female_pop}, \code{male_pop}.}

\item{first_asfr_age}{Numeric Optional first age at which the fertility starts e.g. 15}

\item{annual_net_migrants}{Numeric scalar for annual net migration to include in growth (default 0).}

\item{age_out}{Character specifying returning age structure: \code{"single"}, \code{"five_year"}, or \code{"abridged"} (default \code{"auto"}).}
}
\value{
A list with three elements:
\describe{
\item{\code{initial_summaries}}{A tibble summarising total births, deaths, crude rates, growth rate, total population, and adjustment factor.}
\item{\code{projected_summaries}}{A tibble summarising projected total population by sex and overall sex ratio.}
\item{\code{data}}{A tibble with age-specific populations, ASFR, births, deaths, projected populations by sex, both-sexes totals, and sex ratios.}
}
}
\description{
The \code{movepop()} function projects a population from an initial date to a desired date
using age-specific fertility (ASFR) and mortality rates. It supports single-year or
five-year age group formats and optionally accounts for net migration.
The function produces both projected population by age and sex and summary statistics.
}
\details{
\itemize{
\item The function ensures that population and mortality vectors have equal lengths.
\item Age groups are automatically generated if not provided, and ASFR values are aligned starting at the age group \code{"15"} (or equivalent).
\item Projected populations are computed using exponential growth based on crude birth rate, crude death rate, and net migration rate.
\item The function returns both age-specific projected populations and summary statistics.
}
}
\examples{
example
male_pop <- c(48875, 164390, 173551, 130297, 101143, 73615, 60594, 55175,
             49530, 46562, 39028, 27837, 22110, 18066, 15340, 13318,
             12002, 6424)

female_pop <- c(47105, 159546, 168760, 119437, 92080, 70515, 58801, 53381,
               46757, 41164, 33811, 24121, 19315, 16319, 14058, 12302,
               11047, 5922)

male_mx <- c(0.12427, 0.01639, 0.00274, 0.00167, 0.00251, 0.00380, 0.00382,
            0.00442, 0.00506, 0.00663, 0.00872, 0.01240, 0.01783, 0.02700,
            0.04126, 0.06785, 0.11287, 0.21015)

female_mx <- c(0.11050, 0.01577, 0.00254, 0.00159, 0.00232, 0.00304, 0.00344,
              0.00370, 0.00418, 0.00492, 0.00592, 0.00831, 0.01182, 0.01942,
             0.03221, 0.05669, 0.09771, 0.19385)

asfr <- c(0.199, 0.478, 0.418, 0.321, 0.163, 0.071, 0.028)
names(female_mx) <- seq(0, length.out = 18, by = 5)

res <- movepop(
 initial_date = 1973.58, 
 desired_date = 1973,
 male_pop = male_pop, 
 female_pop = female_pop,
 male_mx  = male_mx,  
 female_mx  = female_mx,
 asfr = asfr,
 annual_net_migrants = -50000,
 age_out = "5-year",
 first_asfr_age = 15
)

}
